<app-header></app-header>
<div id="conversation_container">
  <mat-list dense class="conversation-history mat-typography">
    <div #scrollMe>
      <mat-list-item *ngFor="let message of messages | async" [dir]="message.senderId == currentUserId ? 'rtl' : 'ltr'">
      <a matListAvatar [href]="message.senderId == currentUserId ? 'profile/' + currentUserType + '/'+ currentUserData?.id : 'profile/' + correspondentType + '/'+ correspondentData?.id">
        <img matListAvatar matTooltip="name" [src]=" message.senderId == currentUserId ? currentUserData?.profileUrl : correspondentData?.profileUrl"/>
      </a>
        <p [ngClass]="message.senderId == currentUserId ? 'speech-bubble-right' : 'speech-bubble-left'">{{message.text}}&lrm;</p>
      </mat-list-item>
    </div>
  </mat-list>
  <div class="conversation-input">
    <mat-divider></mat-divider>
    <mat-form-field class="full-width">
      <textarea matInput placeholder="Start chatting..." matAutosizeMaxRows=2 matTextareaAutosize [(ngModel)]="text" #msgInput ></textarea>
      <mat-icon matSuffix (click)="sendMessage()">send</mat-icon>
    </mat-form-field>
  </div>
</div>
